---
rank: 210
related_endpoints:
  - get_search
related_guides:
  - metadata/queries
required_guides: []
alias_paths:
  - /docs/search-for-content
  - /search/full-text-search
category_id: search
subcategory_id: null
is_index: true
id: search
type: guide
total_steps: 9
sibling_id: guides
parent_id: guides
next_page_id: ''
previous_page_id: search/fields
source_url: >-
  https://github.com/box/developer.box.com/blob/main/content/guides/search/index.md
fullyTranslated: true
---
# 検索

Box APIを使用すると、ファイルコンテンツ検索クエリを使用してBox内のコンテンツを見つけることができます。Box検索APIは、サポート対象のすべてのSDKとCLIで使用できます。

<Samples id="get_search">

</Samples>

<Message notice>

検索APIで使用できる各種機能の詳細については、[リファレンスドキュメント](e://get_search)を参照してください。

</Message>

## クエリ演算子

検索APIは、`AND`、`OR`、`NOT`、`""`など、いくつかの[検索演算子](g://search/query-operators)をサポートします。これらの演算子を使用すると、より複雑な組み合わせの検索語に一致する項目のみが返されるように検索結果を絞り込むことができます。

```curl
curl -i -X GET "https://api.box.com/2.0/search?query=box%20AND%20sales" \
    -H "Authorization: Bearer <ACCESS_TOKEN>"

```

<CTA to="g://search/query-operators">

論理演算子の使用の詳細を確認する

</CTA>

## 検索インデックス作成

Boxは、Boxに格納されているファイルまたはフォルダの検索インデックスを保持します。ファイルまたはフォルダが変更されるたびに、これらの単語がインデックスに追加されます。検索が実行されると、APIは、検索インデックスで、クエリに一致するファイルやフォルダを探します。Box内でコンテンツが追加、更新、または削除されると、それに応じて検索インデックスが更新されます。

<CTA to="g://search/indexing">

Boxの検索インデックスの詳細を確認する

</CTA>

<Message info>

10分経過してもインデックスが更新されない場合もあります。このような場合は、[Boxサポート][support]に問い合わせて問題を解決することをお勧めします。

</Message>

<Message warning>

ファイルコンテンツ検索が無効になっている企業 (たとえば、[KeySafe][keysafe]をご利用のお客様) の場合、ドキュメント内の文字を検索できません。ファイルコンテンツ検索が無効の状態でドキュメントを調べる必要がある場合は、アカウントチームまでお問い合わせください。

</Message>

## メタデータクエリとの比較

一見、検索クエリAPIは[メタデータクエリAPI][mdq]とよく似ていますが、動作には重要な違いがいくつかあります。大まかに言うと、メタデータクエリは正確さとスループットの向上のために最適化されているのに対し、通常の検索は、人間のユーザーとの関連度のために最適化されています。

|                     | [メタデータクエリAPI][mdq_api]                                                              | [検索API][search]                                                                                                                                                      |
| ------------------- | ----------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|  インデックスの作成対象        | このAPIでは、検索対象のメタデータテンプレートの値に基づいてファイル/フォルダのみが返されます。                                   | このAPIでは、項目名、説明、コンテンツ (最初の10,000バイトまで) の値のほか、関連付けられたメタデータテンプレートインスタンスに基づいてファイル、フォルダ、ウェブリンクが返されます。                                                                     |
|  インデックス作成時間         | このAPIでは、ファイルまたはフォルダのメタデータが追加、削除、更新されるとすぐに正確な結果が返されます。                               | このAPIは、検索インデックスの作成が遅延すると、その影響を受けます。この遅延は通常10分ですが、場合によっては長くなることがあります。つまり、メタデータが更新されてから10分を経過しても項目が返されない場合があります。                                                       |
|  一致                 | このAPIでは、SQLの規則に基づいて完全一致が使用されます。結果は、指定した並べ替え順を基に返されます。                               | このAPIでは、あいまい一致が使用されるため、文字列のトークン化、特殊文字の削除、およびその他の検索コンセプトに基づいて異なる結果が返される場合があります。結果の順序は、項目の関連度または更新日に基づいています。                                                           |
|  条件付きロジック           | このAPIは、比較演算子を使用するマルチパートブール式をサポートします。                                                | このAPIでは、メタデータによるクエリのサポートが限定的です。サポートされるのは、一度に1つのメタデータテンプレートに対するクエリのみで、単純なクエリ操作のみが可能です。                                                                                |
|  レスポンスタイプ           | このAPIでは、一致したファイル/フォルダと、クエリによって一致した関連するメタデータの両方が返されます。                               | このAPIで返されるのは、一致した項目のみです。各項目のメタデータを返すには、後続のAPIコールが必要です。                                                                                                               |
| スループット (Throughput) | このAPIには現在、ユーザーごとのレート制限のほか、企業あたりのリクエスト数が10件/秒という制限があります。                             | このAPIでは、1ユーザーあたりの検索数は6件/秒、企業あたりの検索数は最大60件/分および12件/秒がサポートされています。                                                                                                      |
|  規模                 | このAPIでは、指定したメタデータテンプレートを使用して返される項目数に制限はありません。一致する結果が2,000件以下になるクエリのみを送信することをお勧めします。 | このAPIには、指定したメタデータテンプレートを使用して返される項目数に制限はありません。ただし、検索に一致する項目数が増えるにつれ、レスポンス時間が大幅に増大します。このAPIでは、1つのクエリに対する結果は1,000万件までという制限があります。一致する結果が50,000件以下になるクエリのみを送信することをお勧めします。 |
|  スコープ               | このAPIは常に、ユーザーがアクセスできるコンテンツに制限されています。                                                | このAPIは、ユーザーがアクセスできるコンテンツ (`​user_content​`) または社内のすべてのコンテンツ (`​enterprise_content​`) のいずれかに制限される場合があります。                                                             |

<CTA to="g://metadata/queries/comparison">

メタデータクエリAPIの詳細を確認する

</CTA>

[mdq]: g://metadata/queries

[mdq_api]: e://post_metadata_queries_execute_read

[search]: e://get_search

[support]: p://support

[keysafe]: https://www.box.com/security/keysafe
